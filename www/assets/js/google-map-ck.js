function generateRequests(e){requestArray=[];for(var t in e){var n=[],r,i,s;data=e[t];limit=data.length;for(var o=0;o<limit;o++){if(data[o]===s)continue;s=data[o];n.push({location:data[o],stopover:!0})}r=n.shift().location;i=n.pop();i===undefined?i=r:i=i.location;var u={origin:r,destination:i,waypoints:n,travelMode:google.maps.TravelMode.DRIVING};requestArray.push({route:t,request:u})}processRequests()}function processRequests(){function t(){directionsService.route(requestArray[e].request,n)}function n(t,n){if(n==google.maps.DirectionsStatus.OK){renderArray[e]=new google.maps.DirectionsRenderer;renderArray[e].setMap(map);renderArray[e].setOptions({preserveViewport:!0,suppressInfoWindows:!1,suppressMarkers:!1,polylineOptions:{strokeWeight:4,strokeColor:"#7ed2ec"},markerOptions:{animation:google.maps.Animation.DROP,clickable:!0,icon:{url:"assets/images/maps/marker.svg"}}});renderArray[e].setDirections(t);r()}}function r(){e++;if(e>=requestArray.length)return;t()}var e=0;t()}function initialize(){var e=new google.maps.LatLng(44.5620651,3.8974203);geocoder=new google.maps.Geocoder;var t={zoom:11,center:e,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"landscape",stylers:[{saturation:-300},{lightness:-5},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:5},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#5ea3d9"},{lightness:-25},{saturation:300}]}]};map=new google.maps.Map(document.getElementById("map-canvas"),t);directionsDisplay.setMap(map)}var rendererOptions={draggable:!0},directionsDisplay=new google.maps.DirectionsRenderer(rendererOptions),directionsService=new google.maps.DirectionsService,num,map,data,requestArray=[],renderArray=[],geocoder;$(function(){var e={},t=[];$.ajax({url:"http://localhost:8888/GoMobility/www/api/v1/experience/show-last-ten-published"}).done(function(t){for(i=0;i<t.length;i++){var n=t[i].start_address,r=t[i].end_address;console.log("origin"+n);e["Person "+i]=[n,r]}console.log(e);generateRequests(e)})});google.maps.event.addDomListener(window,"load",initialize);